<!DOCTYPE html>
<html lang="en">
<head>
  <title>WeCode</title>
  <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
  <script src="/javascripts/jquery-3.2.1.js" async></script>
</head>
<body>

<!-- code for the control bar -->
<div id="controlBar">
  <!-- code for the editor controls -->
  <div id="editorControlBox">
    <button class="control" onclick="saveDocument()">SAVE</button>
    <button class="control" onclick="restoreCode()">RESTORE</button>
    <button class="control" onclick="codeSyncInitializer()">SHARE</button>
    <button class="control" onclick="compileAndRun()" style="float:right">RUN</button>
    <script>
      function sayHello() {
        var conn = codeSyncPeer.connections[getCookie('peerCodeSyncId')];
        conn.send("Hello");
      }
    </script>
    <script src="/javascripts/cookieHelper.js" defer></script>
    <script src="/javascripts/editorControl.js" defer></script>
  </div>
  <!-- code for the video connection controls -->
  <div id="connectorBox">
    <script src="/javascripts/peerjs/peer.js" defer></script>
    <script src="/javascripts/videoCall.js" defer></script>
    <script src="javascripts/codeSync.js" defer></script>
    <div style="width:40%;float:left;">
      <input id="inputBox" name="peerCode" style="width:60%;font-size:10pt;background-color:#444242;border: 0px;height:20px" placeholder="INPUT CODE" />
      <button class="control" onclick="connect()">CONNECT</button>
    </div>
    <button id="myCode" onclick="copyCode()" align="right"></button>
      <script>
        function copyCode() {
          var myCode = document.getElementById('myCode').innerHTML;
          window.prompt("Copy the code and sent it to a friend:", myCode);
        }
      </script>
  </div>
</div>

<!-- code for the editor -->
<div id="editor">public class Solution {
    public static void main(String args[]) {

    }
}
</div>

<!-- code for the the actual editor instantiation and setting -->
<script src="/javascripts/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/java");
    editor.$blockScrolling = Infinity;
    editor.setShowPrintMargin(false);
</script>

<!-- code for the video boxes -->
<div id="videoBox">
  <div style="position: relative">
    <video id="peerView" autoplay=true />
  </div>
    <video id="selfView" autoplay=true muted />
</div>

<!-- code for the console box -->
<div id="consoleBox">
    <textarea id="console" placeholder="This is console"></textarea>
</div>

</body>
</html>
